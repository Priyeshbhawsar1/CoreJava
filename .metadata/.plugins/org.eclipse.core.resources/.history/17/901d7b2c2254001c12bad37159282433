package Assignment3;


import java.io.EOFException;
import java.io.File;
import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;
import java.util.ArrayList;
import java.util.ListIterator;
import java.util.Objects;
import java.util.Scanner;

public class EmpController {

	public static void main(String[] args) throws FileNotFoundException, IOException, ClassNotFoundException,EOFException {
		
		File fi = new File("D:/Employees.txt");
		Scanner sc = new Scanner(System.in); 
			ArrayList<Employee> al = new ArrayList<Employee>();
			ObjectOutputStream oos = null;
			ObjectInputStream ois = null;
			// ListIterator listIterator =null;
			if (fi.isFile()) {
				ois = new ObjectInputStream(new FileInputStream(fi));
				al = (ArrayList<Employee>) ois.readObject();
				ois.close();
			}
			while(true) {
				System.out.println("Enter Employee Add");
				System.out.println("Enter Employee Delete");
				System.out.println("Enter Employee search");
				System.out.println("Enter your Choice");
				int choise = sc.nextInt();

				switch (choise) {
				case 1:
					System.out.println("Enter Employee detaits");
					System.out.println("Enter id");
					long id=sc.nextLong();
					System.out.println("Enter name");
					String name = sc.next();
					System.out.println("Enter Email");
					String email = sc.next();
					System.out.println("Enter Age");
					int age = sc.nextInt();
					System.out.println("Enter DateOfBirth");
					int DateOfBirth = sc.nextInt();
					al.add(new Employee(id,name, email, age, DateOfBirth));
					oos=new ObjectOutputStream(new FileOutputStream(fi));
					oos.writeObject(al);
					oos.close();
					break;
				//case 2:
					//System.out.println("Enter the employee id");
					 //long id1=sc.nextLong();
					 //listIterator = al.listIterator();
					 //while(listIterator.hasNext()) {
						// Employee e=(Employee) listIterator.next();
						 //if(Objects.equals(e.getId(), id1)){
			                // al.remove(e);
			                 //System.out.println("Deleted Successfully");
			             //}
			             //else {
			                // System.out.println("Employee Doesn't Exist!");
			             //}
			        // }
					// break;
					 
				}

					
			}
		
}}
